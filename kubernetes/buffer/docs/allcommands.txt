** server can't find nosiris.com: NXDOMAIN


kops create cluster --help
# update cluster
kops edit ig nodes
kops edit ig master-eu-central-1a
#option
kops update cluster --yes

kubectl delete all -all
kubectl describe ServiceMonitor worker-9001
kubectl logs <pod_name> -f
kubectl get svc |  grep type,hostname, IP
kubectl get nodes -o wide
kubectl get sa
kubectl exec -it <pod_name> - c main curl localhost:8001/api/v1/pods


$ kubectl create ns foo
namespace "foo" created
$ kubectl run test --image=luksa/kubectl-proxy -n foo
deployment "test" created
$ kubectl create ns bar
namespace "bar" created
$ kubectl run test --image=luksa/kubectl-proxy -n bar
deployment "test" created

se kubectl exec to run a shell inside each of the two
pods (one in each terminal):
 kubectl exec -it test-59f7ff4c58-kcstj -n foo sh
 kubectl exec -it test-59f7ff4c58-sxtxk  -n bar sh
 kubectl exec test-59f7ff4c58-kcstj -n foo ifconfig

To verify that RBAC is enabled and preventing the pod from reading cluster state, use
curl to list Services in the foo namespace:
curl localhost:8001/api/v1/namespaces/foo/services

kubectl create rolebinding test --role=service-reader --serviceaccount=foo:default -n foo

The following listing shows the YAML of the RoleBinding you created:
kubectl get rolebinding test -n foo -o yaml

kubectl create clusterrole pv-reader --verb=get,list --resource=persistentvolumes
curl localhost:8001/api/v1/persistentvolumes
kubectl create clusterrolebinding pv-test --clusterrole=pv-reader --serviceaccount=foo:default


kubectl create clusterrolebinding view-test --clusterrole=view --serviceaccount=foo:default
curl localhost:8001/api/v1/pods
curl localhost:8001/api/v1/namespaces/foo/pods

kubectl get clusterrolebindings
kubectl get clusterroles